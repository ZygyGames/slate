<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <!--
Hi Rocco! Do this:

bundle install
bundle exec middleman server
*Make changes, commit*
And then: ./deploy.rb
-->

<h1 id="introduction">Introduction</h1>

<p>Welcome to the Activity Maximizer API Documentation. This will include basic information for each endpoint as well as possible responses.</p>

<p>All of the examples will be given in <code class="prettyprint">curl</code> (for Requests TO the server) and <code class="prettyprint">JSON</code> (for responses FROM the server)</p>

<p>This is to retain a consistent syntax, since <code class="prettyprint">curl</code> is easy to read and understand.</p>

<h1 id="curl">Curl</h1>

<h2 id="what-is-curl">What is <code class="prettyprint">curl</code>?</h2>
<pre class="highlight shell"><code>curl www.google.com
</code></pre>

<p><code class="prettyprint">curl</code> is a Command Line tool used for data transfer with URL syntax.</p>

<p>A basic <code class="prettyprint">curl</code> request contains any url.</p>

<p>It accepts arguments by specifying an argument type followed by the argument.</p>
<pre class="highlight shell"><code>curl -X GET www.google.com
</code></pre>

<p>For this documentation, we will only be using 3 different arguments.</p>

<p><code class="prettyprint">-X</code>, <code class="prettyprint">-H</code>, and <code class="prettyprint">-d</code></p>

<p>The arguments are not order-specific, as long as the argument value immediately follows it&rsquo;s flag.</p>
<pre class="highlight shell"><code>curl -X GET www.google.com
  -H <span class="s2">"MyHeader: ThisIsMyHeaderData"</span>
  -H <span class="s2">"MyOtherHeader: ThisIsMyOtherHeaderData"</span>
</code></pre>

<p>The <code class="prettyprint">-X</code> argument specifies the HTML Verb. (<code class="prettyprint">GET</code>, <code class="prettyprint">PUT</code>, <code class="prettyprint">POST</code>, <code class="prettyprint">DELETE</code>, etc&hellip;)</p>

<p>Normally arguments are all done in-line, but for this documentation, we will split keep the <code class="prettyprint">-X</code> inline and drop the headers and data onto following lines for readability.</p>

<p><code class="prettyprint">-H</code> contains the Headers. Headers are shown 1 at a time in <code class="prettyprint">key: value</code> format. All params/headers/urls are assumed to be strings, so no quotes are necessary.</p>
<pre class="highlight shell"><code><span class="c"># Request by parameter appending</span>
curl -X GET www.google.com?search<span class="o">=</span>What+is+this

<span class="c"># Request by using data/param flag</span>
curl -X GET www.google.com
  -d <span class="s2">"search=What+is+this"</span>

<span class="c"># Multiple parameters in single request separated by `&amp;`. No spaces are used in parameters.</span>
<span class="c"># Spaces, where necessary, are replaced with `+`</span>
curl -X GET www.google.com
  -d <span class="s2">"username=myusername&amp;password=my+super+secure+password"</span>

curl -X GET www.google.com
  --data-urlencode <span class="s2">"username=myusername"</span>
  --data-urlencode <span class="s2">"password=my super secure password"</span>
  <span class="c"># Notice the spaces in the password</span>
</code></pre>

<p><code class="prettyprint">-d</code> contains the params. Unlike the Headers, params are all shown together in URL Parameter format. Normally, params are attached to the url by appending the parameterized string onto the end of the url request with a <code class="prettyprint">?</code></p>

<p>You can also use <code class="prettyprint">--data-urlencode</code> to include params, but only 1 param can be added at a time. However, you do not need to escape the params with plus codes or percent codes.</p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>Failure responses</p>
</blockquote>
<pre class="highlight shell"><code>status - 401 Unauthorized
<span class="o">{</span>
  <span class="s2">"errors"</span>: <span class="o">[</span><span class="s2">"Invalid email or password."</span><span class="o">]</span>
<span class="o">}</span>
<span class="c"># This error can occur whenever a user enters a bad email/password upon logging in, or when a password changes causes their authorization token to become invalid.</span>
<span class="c"># At that point, a user should be logged out immediately.</span>

status - 403 Forbidden
<span class="o">{</span>
  <span class="s2">"errors"</span>: <span class="o">[</span><span class="s2">"You are not authorized to do that."</span><span class="o">]</span>
<span class="o">}</span>
<span class="c"># This error occurs if you attempt to make a request that the current user does not have access to- for example, attempting to view somebody not on their team.</span>

status - 406 Not Acceptable
<span class="o">{</span>
  <span class="s2">"errors"</span>: <span class="o">[</span><span class="s2">"User must set password - Server will deliver email to entered email address."</span><span class="o">]</span>
<span class="o">}</span>
<span class="c"># This is a special error alerting the app that this user has not set up their password on the migrated server yet. It should be handled the same as a 401, either logging the user out or displaying an invalid email/password error.</span>

status 400 - Bad Request
<span class="o">{</span>
  <span class="s2">"errors"</span>: <span class="o">[</span><span class="s2">"param is missing or the value is empty: user"</span><span class="o">]</span>
<span class="o">}</span>
<span class="c"># This error states that something went wrong with parsing the params that were passed in. Generally, it's because the params were not nested under the resource name that they are updating.</span>

status 502 - Bad Gateway <span class="o">(</span>Could not connect to server<span class="o">)</span>
<span class="c"># (No response)</span>
<span class="c"># This error generally occurs while the server is restarting, but informs the app that the server could not be reached for some reason or another.</span>

status 500 - Server Error
<span class="o">{</span>
  <span class="s2">"errors"</span>: <span class="o">[</span><span class="s2">"Something went wrong."</span><span class="o">]</span>
<span class="o">}</span>
<span class="c"># If a 500 is returned, it means something went wrong on the server side. This should be reported, when possible as it generally means there is a crash.</span>
</code></pre>

<p>In order to authenticate with endpoints that require a signed in user, you must pass the authentication token that belongs to the user. You must &ldquo;login&rdquo; to retrieve that token using an email/password combination.</p>

<p>Any time that the server responds with a <code class="prettyprint">401</code> status code, the user should be logged out of the current session and asked to sign in again. The only time this should happen is if they change their password.</p>

<p>Errors will always be return in the format of an array, although most of the time there will only be 1 error shown.</p>

<h2 id="login">Login</h2>

<p>This endpoint authorizes a user.</p>

<aside class="success">
Note: We should use a generic message for both failure cases. This is to prevent a malicious user entering dozens of emails and figuring out which emails have accounts.

The message should cover both the unknown email/password combo as well as a short message describing the password change.
&ldquo;Invalid email or password. If you have not migrated your account, you will receive an email shortly with instructions on changing your password.&rdquo;
</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://maxactivity.com/api/v1/login</code></p>

<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://maxactivity.com/api/v1/login"</span>
  -d <span class="s2">"email=xxxxx&amp;password=xxxxx"</span>
</code></pre>

<h3 id="request-expectations">Request Expectations:</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>param</td>
<td><code class="prettyprint">email</code></td>
<td>YES</td>
<td>Email Address</td>
</tr>
<tr>
<td>param</td>
<td><code class="prettyprint">password</code></td>
<td>sometimes</td>
<td>Password supplied by user</td>
</tr>
</tbody></table>

<blockquote>
<p>Response - Failure</p>
</blockquote>
<pre class="highlight shell"><code>status 401 - Unauthorized
<span class="o">{</span>
  <span class="s2">"errors"</span>: <span class="o">[</span><span class="s2">"Invalid email or password."</span><span class="o">]</span>
<span class="o">}</span>
</code></pre>

<blockquote>
<p>Response - No Password</p>
</blockquote>
<pre class="highlight shell"><code>status 406 - Not Acceptable
<span class="o">{</span>
  <span class="s2">"errors"</span>: <span class="o">[</span><span class="s2">"User must set password - Server will deliver email to entered email address."</span><span class="o">]</span>
<span class="o">}</span>
</code></pre>

<blockquote>
<p>Response - Success</p>
</blockquote>
<pre class="highlight shell"><code>status 200 - OK
-H Authorization Token: aaabbbcccdddeeefffggghhhiii

<span class="o">{</span>  
  <span class="s2">"user"</span>:<span class="o">{</span>  
    <span class="s2">"id"</span>: 4336,
    ...
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h3 id="response-expectations">Response Expectations</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Key</th>
<th>Success?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>json</td>
<td><code class="prettyprint">errors</code></td>
<td>NO</td>
<td>An array of errors that caused the request to fail</td>
</tr>
<tr>
<td>header</td>
<td><code class="prettyprint">Authorization Token</code></td>
<td>YES</td>
<td>The authorization token for the current user. This is used to authorize the user.</td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">user</code></td>
<td>YES</td>
<td>Data hash of data from the user.</td>
</tr>
</tbody></table>

<aside class="warning">
Remember — Store the `Authorization Token` in-app and over-write it on every request! If the user changes their password, that token is regenerated. Not saving this token will cause your user to be unauthenticated.
</aside>

<h1 id="users">Users</h1>

<p>Use this endpoint to return the attributes of users. This includes the ids of their related associations.</p>

<h2 id="show">Show</h2>

<p>Returns the data of a single user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://maxactivity.com/api/v1/users/:id</code></p>

<p>This user must be accessible from the current user, meaning they are either an Upline, Trainer, or a Downline of the current user.</p>

<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://maxactivity.com/api/v1/users/4336"</span>
  -H <span class="s2">"Authorization: Token aaabbbcccdddeeefffggghhhiii"</span>
</code></pre>

<h3 id="request-expectations">Request Expectations:</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>header</td>
<td><code class="prettyprint">Authorization</code></td>
<td>YES</td>
<td>User authentication value retrieved from login</td>
</tr>
<tr>
<td>param</td>
<td><code class="prettyprint">id</code></td>
<td>YES</td>
<td>Server ID of the user to be returned (Included in the URL, does not need to be included as a separate parameter)</td>
</tr>
</tbody></table>

<blockquote>
<p>Response - Success</p>
</blockquote>
<pre class="highlight shell"><code>status 200 - OK
-H Authorization Token: aaabbbcccdddeeefffggghhhiii

<span class="o">{</span>  
  <span class="s2">"user"</span>:<span class="o">{</span>  
    <span class="s2">"id"</span>:4336,
    <span class="s2">"upline_id"</span>:2,
    <span class="s2">"trainer_id"</span>:3,
    <span class="s2">"downline_ids"</span>:[  
      4, 5, 6
    <span class="o">]</span>,
    <span class="s2">"email"</span>:<span class="s2">"rocco@zygy.com"</span>,
    <span class="s2">"family_name"</span>:<span class="s2">"Nicholls"</span>,
    <span class="s2">"given_name"</span>:<span class="s2">"Rocco"</span>,
    <span class="s2">"phone_number"</span>:<span class="s2">"3852599640"</span>,
    <span class="s2">"profile_picture_url"</span>:<span class="s2">""</span>,
    <span class="s2">"state"</span>:<span class="s2">"UT - Utah"</span>,
    <span class="s2">"solution_number"</span>:<span class="s2">"xupr7"</span>,
    <span class="s2">"is_rvp"</span>:false,
    <span class="s2">"firebase_id"</span>:<span class="s2">"00XzzxIXXKbwpyBT81KT9qvPKxZ2"</span>,
    <span class="s2">"firebase_ref"</span>:<span class="s2">"https://activitymaximizer.firebaseio.com/users/00XzzxIXXKbwpyBT81KT9qvPKxZ2"</span>,
    <span class="s2">"created_at"</span>:<span class="s2">"2017-04-26T01:28:33.046Z"</span>,
    <span class="s2">"updated_at"</span>:<span class="s2">"2018-01-04T07:44:33.005Z"</span>,
    <span class="s2">"current_speed"</span>:0
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h3 id="response-expectations">Response Expectations</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Key</th>
<th>Success?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>json</td>
<td><code class="prettyprint">errors</code></td>
<td>NO</td>
<td>An array of errors that caused the request to fail</td>
</tr>
<tr>
<td>header</td>
<td><code class="prettyprint">Authorization Token</code></td>
<td>YES</td>
<td>The authorization token for the current user. This is used to authorize the user.</td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">id</code></td>
<td>YES</td>
<td>Server id for the user.</td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">upline_id</code></td>
<td>YES</td>
<td>Server id of the user&rsquo;s upline - MAY BE <code class="prettyprint">null</code></td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">trainer_id</code></td>
<td>YES</td>
<td>Server id of the user&rsquo;s trainer - MAY BE <code class="prettyprint">null</code></td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">downline_ids</code></td>
<td>YES</td>
<td>An array of all ids of each of the user&rsquo;s baseshop (Recurring downlines)</td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">email</code></td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">given_name</code></td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">family_name</code></td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">phone_number</code></td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">profile_picture_url</code></td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">state</code></td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">solution_number</code></td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">is_rvp</code></td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">firebase_id</code></td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">firebase_ref</code></td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">created_at</code></td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">updated_at</code></td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">current_speed</code></td>
<td>YES</td>
<td>Calculated current speed of the user</td>
</tr>
</tbody></table>

<h2 id="index">Index</h2>

<p>Returns an array of every associated user to the current user.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://maxactivity.com/api/v1/users</code></p>

<p>Only users who the current user is able to access are returned:
Upline, Trainer, and all downlines are available.</p>

<p>This endpoint is paginated, meaning only a maximum of <code class="prettyprint">per</code> users are returned.
By passing in <code class="prettyprint">page</code>, you can select which group of uses are returned.</p>

<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X GET <span class="s2">"https://maxactivity.com/api/v1/users"</span>
  -H <span class="s2">"Authorization: Token aaabbbcccdddeeefffggghhhiii"</span>
</code></pre>

<h3 id="request-expectations">Request Expectations:</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>header</td>
<td><code class="prettyprint">Authorization</code></td>
<td>YES</td>
<td>User authentication value retrieved from login</td>
</tr>
<tr>
<td>param</td>
<td><code class="prettyprint">user_ids</code></td>
<td>NO</td>
<td>Array of specific user ids to request.</td>
</tr>
<tr>
<td>param</td>
<td><code class="prettyprint">page</code></td>
<td>NO</td>
<td>Default: 1 - Page of users to return based on <code class="prettyprint">per</code></td>
</tr>
<tr>
<td>param</td>
<td><code class="prettyprint">per</code></td>
<td>NO</td>
<td>Default: 25 - Number of users to return per <code class="prettyprint">page</code></td>
</tr>
<tr>
<td>param</td>
<td><code class="prettyprint">all</code></td>
<td>NO</td>
<td>Default: false - When passed as <code class="prettyprint">true</code>, will not paginate users and will return all of them regardless of the number.</td>
</tr>
</tbody></table>

<blockquote>
<p>Response - Success</p>
</blockquote>
<pre class="highlight shell"><code>status 200 - OK
-H Authorization Token: aaabbbcccdddeeefffggghhhiii

<span class="o">{</span>  
  <span class="s2">"users"</span>:[  
    <span class="o">{</span>  
      <span class="s2">"id"</span>:4335,
      ...
      <span class="s2">"current_speed"</span>:0
    <span class="o">}</span>,
    <span class="o">{</span>  
      <span class="s2">"id"</span>:2,
      ...
      <span class="s2">"current_speed"</span>:0
    <span class="o">}</span>,
    <span class="o">{</span>  
      <span class="s2">"id"</span>:4,
      ...
      <span class="s2">"current_speed"</span>:0
    <span class="o">}</span>
  <span class="o">]</span>
<span class="o">}</span>
</code></pre>

<h3 id="response-expectations">Response Expectations</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Key</th>
<th>Success?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>json</td>
<td><code class="prettyprint">errors</code></td>
<td>NO</td>
<td>An array of errors that caused the request to fail</td>
</tr>
<tr>
<td>header</td>
<td><code class="prettyprint">Authorization Token</code></td>
<td>YES</td>
<td>The authorization token for the current user. This is used to authorize the user.</td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">users</code></td>
<td>YES</td>
<td>Array of requested users, each object contains the full data returned by the <code class="prettyprint">show</code> endpoint</td>
</tr>
</tbody></table>

<h2 id="create">Create</h2>

<p>Creates a new user</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://maxactivity.com/api/v1/users</code></p>

<p>This endpoint does NOT require authentication.</p>

<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s2">"https://maxactivity.com/api/v1/users"</span>
  -d <span class="s2">"user[email]=fredericksmith@email.com"</span>
  -d <span class="s2">"user[password]=password"</span>
  -d <span class="s2">"user[given_name]=Frederick"</span>

<span class="c"># This is the equivalent of:</span>
<span class="o">{</span>
  <span class="s2">"user"</span>: <span class="o">{</span>
    <span class="s2">"email"</span>: <span class="s2">"fredericksmith@email.com"</span>,
    <span class="s2">"password"</span>: <span class="s2">"password"</span>,
    <span class="s2">"given_name"</span>: <span class="s2">"Frederick"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h3 id="request-expectations">Request Expectations:</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>param</td>
<td><code class="prettyprint">user</code></td>
<td>YES</td>
<td>JSON object containing all of the attributes for the new user.</td>
</tr>
</tbody></table>

<blockquote>
<p>Response - Success</p>
</blockquote>
<pre class="highlight shell"><code>status 201 - Created
-H Authorization Token: aaabbbcccdddeeefffggghhhiii

<span class="o">{</span>  
  <span class="s2">"user"</span>:<span class="o">{</span>  
    <span class="s2">"id"</span>: 4336,
    <span class="s2">"email"</span>: <span class="s2">"fredericksmith@email.com"</span>,
    <span class="s2">"given_name"</span>: <span class="s2">"Frederick"</span>
    ...
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h3 id="response-expectations">Response Expectations</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Key</th>
<th>Success?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>json</td>
<td><code class="prettyprint">errors</code></td>
<td>NO</td>
<td>An array of errors that caused the request to fail - If the user failed to update, this will explain why.</td>
</tr>
<tr>
<td>header</td>
<td><code class="prettyprint">Authorization Token</code></td>
<td>YES</td>
<td>The authorization token for the current user. This is used to authorize the user.</td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">user</code></td>
<td>YES</td>
<td>Newly created user object.</td>
</tr>
</tbody></table>

<h2 id="update">Update</h2>

<p>Updates a user</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PATCH/PUT https://maxactivity.com/api/v1/users/:id</code></p>

<p>This endpoint only allows for updating the current user.</p>

<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X PATCH <span class="s2">"https://maxactivity.com/api/v1/users/4336"</span>
  -H <span class="s2">"Authorization: Token aaabbbcccdddeeefffggghhhiii"</span>
  -d <span class="s2">"user[given_name]=Frederick"</span>

<span class="c"># This is the equivalent of:</span>
<span class="o">{</span>
  <span class="s2">"user"</span>: <span class="o">{</span>
    <span class="s2">"given_name"</span>: <span class="s2">"Frederick"</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h3 id="request-expectations">Request Expectations:</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>header</td>
<td><code class="prettyprint">Authorization</code></td>
<td>YES</td>
<td>User authentication value retrieved from login</td>
</tr>
<tr>
<td>param</td>
<td><code class="prettyprint">id</code></td>
<td>YES</td>
<td>Server ID of the user to be updated (Included in the URL, does not need to be included as a separate parameter)</td>
</tr>
<tr>
<td>param</td>
<td><code class="prettyprint">user</code></td>
<td>YES</td>
<td>JSON object containing the update to change for the user.</td>
</tr>
</tbody></table>

<blockquote>
<p>Response - Success</p>
</blockquote>
<pre class="highlight shell"><code>status 200 - OK
-H Authorization Token: aaabbbcccdddeeefffggghhhiii

<span class="o">{</span>  
  <span class="s2">"user"</span>:<span class="o">{</span>  
    <span class="s2">"id"</span>: 4336,
    <span class="s2">"given_name"</span>: <span class="s2">"Frederick"</span>
    ...
  <span class="o">}</span>
<span class="o">}</span>
</code></pre>

<h3 id="response-expectations">Response Expectations</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Key</th>
<th>Success?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>json</td>
<td><code class="prettyprint">errors</code></td>
<td>NO</td>
<td>An array of errors that caused the request to fail - If the user failed to update, this will explain why.</td>
</tr>
<tr>
<td>header</td>
<td><code class="prettyprint">Authorization Token</code></td>
<td>YES</td>
<td>The authorization token for the current user. This is used to authorize the user.</td>
</tr>
<tr>
<td>json</td>
<td><code class="prettyprint">user</code></td>
<td>YES</td>
<td>Updated user object.</td>
</tr>
</tbody></table>

<h2 id="destroy">Destroy</h2>

<p>Removes a user</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://maxactivity.com/api/v1/users/:id</code></p>

<p>This endpoint only allows for deleting the current user.</p>

<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X DELETE <span class="s2">"https://maxactivity.com/api/v1/users/4336"</span>
  -H <span class="s2">"Authorization: Token aaabbbcccdddeeefffggghhhiii"</span>
</code></pre>

<h3 id="request-expectations">Request Expectations:</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Parameter</th>
<th>Required?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>header</td>
<td><code class="prettyprint">Authorization</code></td>
<td>YES</td>
<td>User authentication value retrieved from login</td>
</tr>
<tr>
<td>param</td>
<td><code class="prettyprint">id</code></td>
<td>YES</td>
<td>Server ID of the user to be deleted (Included in the URL, does not need to be included as a separate parameter)</td>
</tr>
</tbody></table>

<blockquote>
<p>Response - Success</p>
</blockquote>
<pre class="highlight shell"><code>status 200 - OK

<span class="c"># No response is returned after deleting an object.</span>
</code></pre>

<h3 id="response-expectations">Response Expectations</h3>

<table><thead>
<tr>
<th>Type</th>
<th>Key</th>
<th>Success?</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>json</td>
<td><code class="prettyprint">errors</code></td>
<td>NO</td>
<td>An array of errors that caused the request to fail - If the user failed to update, this will explain why.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
